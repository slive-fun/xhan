import{S as C,i as F,s as J,k as v,a as k,q as w,l as $,m as E,c as y,r as D,h as _,n as B,b as N,J as r,L as x,M as tt,N as at,B as S,D as st,K as rt,o as ot,O as it,P as ut,u as M,w as K,x as Q,y as Y,f as G,t as W,z as X}from"../../chunks/index-cfb7e055.js";import{_ as ct}from"../../chunks/preload-helper-41c905a7.js";import{w as ft,j as ht,k as U}from"../../chunks/singletons-f76a8ab7.js";const Z=ft(new URL(location.href).searchParams.getAll("q").join(" ")),_t=ht(Z,(a,t)=>{console.log(a),ct(()=>import("../../chunks/songs-0e8e6075.js"),[],import.meta.url).then(({db:l})=>l).then(async l=>{let e=a.split(" ").filter(i=>i.trim().length>0).map(i=>`(${["name","singer","lang","name_jp","source","remark"].map(u=>`${u} like '%${i}%'`).join(" or ")})`).join(" and ");e!==""&&(e="where "+e);let n=await l.query(`select * from song ${e}`);t(n)})},[]);U.disable_scroll_handling;const mt=U.goto;U.invalidate;U.invalidateAll;U.preload_data;U.preload_code;U.before_navigate;U.after_navigate;function dt(a){let t,l,e,n,i,s,u;return{c(){t=v("form"),l=v("input"),e=k(),n=v("button"),i=w("搜索"),this.h()},l(p){t=$(p,"FORM",{});var d=E(t);l=$(d,"INPUT",{type:!0,placeholder:!0}),e=y(d),n=$(d,"BUTTON",{});var b=E(n);i=D(b,"搜索"),b.forEach(_),d.forEach(_),this.h()},h(){B(l,"type","search"),B(l,"placeholder","search")},m(p,d){N(p,t,d),r(t,l),x(l,a[0]),r(t,e),r(t,n),r(n,i),s||(u=[tt(l,"input",a[2]),tt(t,"submit",at(a[1]))],s=!0)},p(p,[d]){d&1&&x(l,p[0])},i:S,o:S,d(p){p&&_(t),s=!1,st(u)}}}function pt(a,t,l){let e;rt(a,Z,u=>l(3,e=u));let n="";ot(()=>{l(0,n=e)});function i(){it(Z,e=n,e);let u=n.split(" ").filter(d=>d.trim().length>0).map(d=>`q=${d}`).join("&"),p=new URL("?"+u,location.href);mt(p)}function s(){n=this.value,l(0,n)}return[n,i,s]}class gt extends C{constructor(t){super(),F(this,t,pt,dt,J,{})}}function et(a,t,l){const e=a.slice();return e[1]=t[l],e}function lt(a){let t,l=a[1].source+"",e;return{c(){t=w("来自: "),e=w(l)},l(n){t=D(n,"来自: "),e=D(n,l)},m(n,i){N(n,t,i),N(n,e,i)},p(n,i){i&1&&l!==(l=n[1].source+"")&&M(e,l)},d(n){n&&_(t),n&&_(e)}}}function nt(a){let t,l,e=a[1].name+"",n,i,s=a[1].name_jp+"",u,p,d,b,R=a[1].singer+"",O,P,A,H=a[1].lang+"",j,q,h,c=a[1].remark+"",T,f,o=a[1].source!==""&&lt(a);return{c(){t=v("tr"),l=v("td"),n=w(e),i=k(),u=w(s),p=k(),o&&o.c(),d=k(),b=v("td"),O=w(R),P=k(),A=v("td"),j=w(H),q=k(),h=v("td"),T=w(c),f=k(),this.h()},l(g){t=$(g,"TR",{});var m=E(t);l=$(m,"TD",{});var L=E(l);n=D(L,e),i=y(L),u=D(L,s),p=y(L),o&&o.l(L),L.forEach(_),d=y(m),b=$(m,"TD",{class:!0});var z=E(b);O=D(z,R),z.forEach(_),P=y(m),A=$(m,"TD",{});var V=E(A);j=D(V,H),V.forEach(_),q=y(m),h=$(m,"TD",{});var I=E(h);T=D(I,c),I.forEach(_),f=y(m),m.forEach(_),this.h()},h(){B(b,"class","singer svelte-ezdrtl")},m(g,m){N(g,t,m),r(t,l),r(l,n),r(l,i),r(l,u),r(l,p),o&&o.m(l,null),r(t,d),r(t,b),r(b,O),r(t,P),r(t,A),r(A,j),r(t,q),r(t,h),r(h,T),r(t,f)},p(g,m){m&1&&e!==(e=g[1].name+"")&&M(n,e),m&1&&s!==(s=g[1].name_jp+"")&&M(u,s),g[1].source!==""?o?o.p(g,m):(o=lt(g),o.c(),o.m(l,null)):o&&(o.d(1),o=null),m&1&&R!==(R=g[1].singer+"")&&M(O,R),m&1&&H!==(H=g[1].lang+"")&&M(j,H),m&1&&c!==(c=g[1].remark+"")&&M(T,c)},d(g){g&&_(t),o&&o.d()}}}function vt(a){let t,l,e,n,i,s,u,p,d,b,R,O,P,A,H,j,q=a[0],h=[];for(let c=0;c<q.length;c+=1)h[c]=nt(et(a,q,c));return{c(){t=v("table"),l=v("thead"),e=v("tr"),n=v("th"),i=w("歌名(中)"),s=k(),u=v("th"),p=w("歌手"),d=k(),b=v("th"),R=w("语种"),O=k(),P=v("th"),A=w("备注"),H=k(),j=v("tbody");for(let c=0;c<h.length;c+=1)h[c].c();this.h()},l(c){t=$(c,"TABLE",{});var T=E(t);l=$(T,"THEAD",{});var f=E(l);e=$(f,"TR",{});var o=E(e);n=$(o,"TH",{title:!0});var g=E(n);i=D(g,"歌名(中)"),g.forEach(_),s=y(o),u=$(o,"TH",{title:!0});var m=E(u);p=D(m,"歌手"),m.forEach(_),d=y(o),b=$(o,"TH",{title:!0});var L=E(b);R=D(L,"语种"),L.forEach(_),O=y(o),P=$(o,"TH",{title:!0});var z=E(P);A=D(z,"备注"),z.forEach(_),o.forEach(_),f.forEach(_),H=y(T),j=$(T,"TBODY",{});var V=E(j);for(let I=0;I<h.length;I+=1)h[I].l(V);V.forEach(_),T.forEach(_),this.h()},h(){B(n,"title","name"),B(u,"title","singer"),B(b,"title","lang"),B(P,"title","remark")},m(c,T){N(c,t,T),r(t,l),r(l,e),r(e,n),r(n,i),r(e,s),r(e,u),r(u,p),r(e,d),r(e,b),r(b,R),r(e,O),r(e,P),r(P,A),r(t,H),r(t,j);for(let f=0;f<h.length;f+=1)h[f].m(j,null)},p(c,[T]){if(T&1){q=c[0];let f;for(f=0;f<q.length;f+=1){const o=et(c,q,f);h[f]?h[f].p(o,T):(h[f]=nt(o),h[f].c(),h[f].m(j,null))}for(;f<h.length;f+=1)h[f].d(1);h.length=q.length}},i:S,o:S,d(c){c&&_(t),ut(h,c)}}}function $t(a,t,l){let e;return rt(a,_t,n=>l(0,e=n)),[e]}class bt extends C{constructor(t){super(),F(this,t,$t,vt,J,{})}}function Et(a){let t,l,e,n,i;return l=new gt({}),n=new bt({}),{c(){t=v("div"),K(l.$$.fragment),e=k(),K(n.$$.fragment),this.h()},l(s){t=$(s,"DIV",{class:!0});var u=E(t);Q(l.$$.fragment,u),e=y(u),Q(n.$$.fragment,u),u.forEach(_),this.h()},h(){B(t,"class","layout")},m(s,u){N(s,t,u),Y(l,t,null),r(t,e),Y(n,t,null),i=!0},p:S,i(s){i||(G(l.$$.fragment,s),G(n.$$.fragment,s),i=!0)},o(s){W(l.$$.fragment,s),W(n.$$.fragment,s),i=!1},d(s){s&&_(t),X(l),X(n)}}}let Tt=class extends C{constructor(t){super(),F(this,t,null,Et,J,{})}};function kt(a){let t,l;return t=new Tt({}),{c(){K(t.$$.fragment)},l(e){Q(t.$$.fragment,e)},m(e,n){Y(t,e,n),l=!0},p:S,i(e){l||(G(t.$$.fragment,e),l=!0)},o(e){W(t.$$.fragment,e),l=!1},d(e){X(t,e)}}}class Pt extends C{constructor(t){super(),F(this,t,null,kt,J,{})}}export{Pt as default};
